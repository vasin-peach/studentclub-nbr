{"version":3,"sources":["webpack:///./src/store/modules/loading.js","webpack:///./src/store/modules/auth.js","webpack:///./src/store/modules/club.js","webpack:///./src/store/modules/teacher.js","webpack:///./src/store/index.js","webpack:///src/App.vue","webpack:///./src/App.vue?c5a5","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/router/index.js"],"names":["loading","state","full","half","getters","getLoading","mutations","fullLoadingChange","value","setTimeout","halfLoadingChange","axios_default","a","defaults","withCredentials","auth_config","headers","Content-Type","timeout","auth","user","studentId","token","permission","getUser","actions","session","_ref","commit","promise_default","resolve","reject","get","window","location","protocol","host","split","then","response","status","data","checkTokenExpired","_ref2","config","x-access-token","post","catch","err","login","_ref3","success","sweetalert2_all_default","type","title","text","timer","router","push","name","payload","message","logout","_ref4","userUpdate","_ref5","this","Access-Control-Allow-Headers","userSelf","_ref6","updateUserState","userState","lib_default","updateUserProfile","profile","club","getClubAll","getClubRange","start","stop","slice","clubGet","clubUpdateCurrent","amount","clubRemove","code","clubAdd","ownerTemp","items","prefix","firstname","lastname","reader","FileReader","readAsDataURL","img","onloadend","base64","result","entry","max","owner","receive","desc","updateClubData","teacher","userSize","userList","clubList","getUserList","getUserSize","getClubList","updateUserList","count","users","updateClubList","updateClubUser","keys_default","forEach","key","student","filter","webEnabledState","objectDestructuringEmpty_default","enabled","webEnabled","findUserByClub","item","reqAllUser","reqAllClub","dispatch","clubs","userRemove","userAdd","_ref7","vue_esm","use","vuex_esm","__webpack_exports__","Store","modules","strict","App","computed","extends_default","Object","selectortype_template_index_0_src_App","render","_vm","_h","$createElement","_c","_self","attrs","id","mode","staticClass","_v","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","vee_validate_esm","fieldsBagName","es","productionTip","el","store","components","template","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","routes","path","component","e","bind","children","alias","meta","noAuth","beforeEach","to","from","next","matched","length","__WEBPACK_IMPORTED_MODULE_2__store__","check","Promise","some","record","__WEBPACK_IMPORTED_MODULE_4_jwt_decode___default","indexOf"],"mappings":"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","file":"static/js/app.7de913b6063236f4567e.js","sourcesContent":["// initial state\r\nconst state = {\r\n  loading: {\r\n    full: false,\r\n    half: false\r\n  }\r\n};\r\n\r\n// mutations\r\nconst mutations = {\r\n  fullLoadingChange(state, value) {\r\n    if (state.loading.full) {\r\n      setTimeout(() => {\r\n        state.loading.full = value;\r\n      }, 500);\r\n    } else {\r\n      state.loading.full = value;\r\n    }\r\n  },\r\n  halfLoadingChange(state, value) {\r\n    if (state.loading.half) {\r\n      setTimeout(() => {\r\n        state.loading.half = value;\r\n      }, 500);\r\n    } else {\r\n      state.loading.half = value;\r\n    }\r\n  }\r\n};\r\n\r\n// getters\r\nconst getters = {\r\n  getLoading: state => state.loading\r\n};\r\n\r\n// export\r\nexport default {\r\n  state,\r\n  getters,\r\n  mutations\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/loading.js","import axios from 'axios';\r\nimport swal from 'sweetalert2';\r\nimport jwtDecode from 'jwt-decode';\r\nimport router from '../../router';\r\n\r\n// enable axios set cookie\r\naxios.defaults.withCredentials = true;\r\n\r\n// create request config\r\nvar config = {\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  },\r\n  timeout: 0\r\n};\r\n\r\n// initial state\r\nconst state = {\r\n  user: {\r\n    studentId: null,\r\n    token: null,\r\n    permission: null\r\n  }\r\n};\r\n\r\n// GETTERS //\r\nconst getters = {\r\n  getUser: state => state.user\r\n};\r\n\r\n// MUTATIONS //\r\nconst mutations = {\r\n  // Update User Data\r\n  updateUserState(state, token) {\r\n    if (token) {\r\n      const userState = jwtDecode(token);\r\n      state.user.token = token;\r\n      state.user.studentId = userState.studentId;\r\n      state.user.permission = userState.permission;\r\n    } else {\r\n      state.user.token = null;\r\n      state.user.studentId = null;\r\n      state.user.permission = null;\r\n    }\r\n  },\r\n  updateUserProfile(state, data) {\r\n    if (data) {\r\n      state.user.profile = data;\r\n    } else {\r\n      state.user.profile = null;\r\n    }\r\n  }\r\n};\r\n\r\n// ACTION //\r\nconst actions = {\r\n  // Get Token Session //\r\n  session({\r\n    commit\r\n  }) {\r\n    return new Promise((resolve, reject) => {\r\n      // loading\r\n      commit('fullLoadingChange', true);\r\n\r\n      // create request config\r\n      let config = {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      //create request\r\n      axios\r\n        .get(\r\n          window.location.protocol +\r\n          '//' +\r\n          window.location.host.split(':')[0] +\r\n          ':3000/api/session',\r\n          '',\r\n          config\r\n        )\r\n        // request success\r\n        .then(response => {\r\n          if (response.status == 200) {\r\n            commit('updateUserState', response.data.token);\r\n            commit('fullLoadingChange', false);\r\n            resolve(response);\r\n          }\r\n        });\r\n    });\r\n  },\r\n\r\n  // Check token expired //\r\n  checkTokenExpired({\r\n    commit\r\n  }, token) {\r\n    return new Promise((resolve, reject) => {\r\n      //create request config\r\n      var config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-access-token': token\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      //create request\r\n      axios\r\n        .post(\r\n          window.location.protocol +\r\n          '//' +\r\n          window.location.host.split(':')[0] +\r\n          ':3000/api/auth/check', {\r\n            token: token\r\n          },\r\n          config\r\n        )\r\n        .then(response => {\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n\r\n  // User Login //\r\n  login({\r\n    commit\r\n  }, data) {\r\n    commit('fullLoadingChange', true);\r\n\r\n    //create request\r\n    axios\r\n      .post(\r\n        window.location.protocol +\r\n        '//' +\r\n        window.location.host.split(':')[0] +\r\n        ':3000/api/auth/token',\r\n        data,\r\n        config\r\n      )\r\n      // login success\r\n      .then(response => {\r\n        if (response.data.success) {\r\n          swal({\r\n            type: 'success',\r\n            title: 'Authentication',\r\n            text: 'ทำการเข้าสู่ระบบด้วย รหัสนักเรียน: ' + data.studentId,\r\n            timer: 3000\r\n          });\r\n        }\r\n        commit('updateUserState', response.data.token);\r\n        commit('fullLoadingChange', false);\r\n        router.push({\r\n          name: 'Student_Club'\r\n        });\r\n        return;\r\n      })\r\n\r\n      // login failed\r\n      .catch(err => {\r\n        var payload = err.response.data;\r\n\r\n        // user not found\r\n        if (payload.message == 'Authentication failed. User not found.') {\r\n\r\n          commit('fullLoadingChange', false);\r\n          //aelrt\r\n          swal({\r\n            type: 'error',\r\n            title: 'Authentication',\r\n            text: 'ไม่พบรหัสนักเรียน: ' + data.studentId,\r\n            timer: 3000\r\n          });\r\n          return;\r\n        } else if (\r\n          // wrong password\r\n          payload.message == 'Authentication failed. Wrong password.'\r\n        ) {\r\n          // alert\r\n          commit('fullLoadingChange', false);\r\n          swal({\r\n            type: 'error',\r\n            title: 'Authentication',\r\n            text: 'รหัสผ่านไม่ถูกต้อง',\r\n            timer: 3000\r\n          });\r\n          return;\r\n        } else if (payload.message == 'server refund student to logged in.') {\r\n          commit('fullLoadingChange', false);\r\n          swal({\r\n            type: 'warning',\r\n            title: 'Authentication',\r\n            text: 'เว็บยังไม่เปิดให้นักเรียนลงทะเบียนชุมนุม',\r\n            timer: 3000\r\n          });\r\n        } else {\r\n          commit('fullLoadingChange', false);\r\n          swal({\r\n            type: 'error',\r\n            title: 'Authentication',\r\n            text: 'เกิดเหตุขัดข้อง กรุณาลองใหม่อีกครั้งภายหลัง',\r\n            timer: 3000\r\n          });\r\n        }\r\n      });\r\n  },\r\n  // Logout //\r\n  logout({\r\n    commit\r\n  }) {\r\n    //create request\r\n    commit('updateUserState', null);\r\n    axios\r\n      .post(\r\n        window.location.protocol +\r\n        '//' +\r\n        window.location.host.split(':')[0] +\r\n        ':3000/api/auth/logout',\r\n        '',\r\n        config\r\n      )\r\n      // login success\r\n      .then(response => {\r\n        router.push({\r\n          name: 'Login'\r\n        });\r\n      });\r\n  },\r\n\r\n  // -- Update user -- //\r\n  userUpdate({\r\n    commit\r\n  }, payload) {\r\n    var token = this.getters.getUser.token;\r\n    if (payload && token) {\r\n      return new Promise((resolve, reject) => {\r\n        // loading\r\n        commit('halfLoadingChange', true);\r\n\r\n        // create request config\r\n        var config = {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Access-Control-Allow-Headers': 'x-access-token',\r\n            'x-access-token': token\r\n          },\r\n          timeout: 0\r\n        };\r\n\r\n        axios\r\n          .post(\r\n            window.location.protocol +\r\n            '//' +\r\n            window.location.host.split(':')[0] +\r\n            ':3000/api/auth/update', {\r\n              payload: payload\r\n            },\r\n            config\r\n          )\r\n          .then(response => {\r\n            if (response.status == 200) {\r\n              resolve(response);\r\n              commit('halfLoadingChange', false);\r\n            } else {\r\n              reject();\r\n              commit('halfLoadingChange', false);\r\n            }\r\n          });\r\n      });\r\n    }\r\n  },\r\n\r\n  // -- Get self profile -- //\r\n  userSelf({\r\n    commit\r\n  }, token) {\r\n    return new Promise((resolve, reject) => {\r\n      // check token exist\r\n      if (!token) return reject();\r\n\r\n      // create request config\r\n      var config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Access-Control-Allow-Headers': 'x-access-token',\r\n          'x-access-token': token\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      // request\r\n      axios\r\n        .post(\r\n          window.location.protocol +\r\n          '//' +\r\n          window.location.host.split(':')[0] +\r\n          ':3000/api/auth/self',\r\n          null,\r\n          config\r\n        )\r\n        .then(response => {\r\n          if (response.status == 200) {\r\n            commit('updateUserProfile', response.data.data);\r\n            return resolve(response);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          return reject(err.response);\r\n          window.location('/logout');\r\n        });\r\n    });\r\n  }\r\n};\r\n\r\n// export\r\nexport default {\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/auth.js","import axios from 'axios';\r\nimport swal from 'sweetalert2';\r\nimport jwtDecode from 'jwt-decode';\r\nimport router from '../../router';\r\nimport store from '../../store';\r\n\r\n// enable axios set cookie\r\naxios.defaults.withCredentials = true;\r\n\r\n// create request config\r\nvar config = {\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  },\r\n  timeout: 0\r\n};\r\n\r\n// STATE //\r\nconst state = {\r\n  club: null\r\n};\r\n\r\n// GETTERS //\r\nconst getters = {\r\n  getClubAll: state => state.club,\r\n  getClubRange: state => (start, stop) => {\r\n    if (state.club) {\r\n      return state.club.slice(start, stop);\r\n    }\r\n  }\r\n};\r\n\r\n// MUTATIONS //\r\nconst mutations = {\r\n  updateClubData(state, data) {\r\n    if (data) {\r\n      state.club = data;\r\n    } else {\r\n      state.club = 'empty';\r\n    }\r\n  }\r\n};\r\n\r\n// ACTIONS //\r\nconst actions = {\r\n  // -- Get all club -- //\r\n  clubGet({ commit }, token) {\r\n    return new Promise((resolve, reject) => {\r\n      // loading\r\n      commit('halfLoadingChange', true);\r\n\r\n      // create request config\r\n      let config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Access-Control-Allow-Headers': 'x-access-token',\r\n          'x-access-token': token\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      axios\r\n        .post(\r\n          window.location.protocol +\r\n            '//' +\r\n            window.location.host.split(':')[0] +\r\n            ':3000/api/club/get',\r\n          '',\r\n          config\r\n        )\r\n        .then(response => {\r\n          if (response.status == 200) {\r\n            commit('updateClubData', response.data.data);\r\n            resolve(response);\r\n            commit('halfLoadingChange', false);\r\n          } else {\r\n            reject();\r\n            commit('halfLoadingChange', false);\r\n          }\r\n        })\r\n        // token expired\r\n        .catch(err => {\r\n          reject(err.response);\r\n          // router.push({ name: 'Logout' });\r\n        });\r\n    });\r\n  },\r\n\r\n  // -- Update Current(member) -- //\r\n  clubUpdateCurrent({ commit }, data) {\r\n    return new Promise((resolve, reject) => {\r\n      // check payload not empty\r\n      if (data.name && data.amount && data.token) {\r\n        // loading\r\n        commit('halfLoadingChange', true);\r\n\r\n        // create request config\r\n        let config = {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Access-Control-Allow-Headers': 'x-access-token',\r\n            'x-access-token': data.token\r\n          },\r\n          timeout: 0\r\n        };\r\n\r\n        // create payload\r\n        let payload = {\r\n          amount: data.amount,\r\n          name: data.name\r\n        };\r\n\r\n        axios\r\n          .post(\r\n            window.location.protocol +\r\n              '//' +\r\n              window.location.host.split(':')[0] +\r\n              ':3000/api/club/update/current',\r\n            payload,\r\n            config\r\n          )\r\n          .then(response => {\r\n            if (response.status == 200) {\r\n              resolve(response);\r\n              commit('halfLoadingChange', false);\r\n            } else {\r\n              reject();\r\n              commit('halfLoadingChange', false);\r\n            }\r\n          })\r\n          // token expired\r\n          .catch(err => {\r\n            swal({\r\n              type: 'error',\r\n              title: 'ปฎิเสธการดำเนินการ',\r\n              text:\r\n                'มีผู้สมัครชุมนุมแทรก ระหว่างที่คุณกำลังดำเนินการ, กรุณารีเฟรชหน้า'\r\n            });\r\n            return reject();\r\n          });\r\n      }\r\n    });\r\n  },\r\n\r\n  // -- Remove Club -- //\r\n  clubRemove({ commit }, data) {\r\n    return new Promise((resolve, reject) => {\r\n      // check token exist\r\n      if (!data.token) return reject();\r\n\r\n      // loading on\r\n      commit('halfLoadingChange', true);\r\n\r\n      // create request config\r\n      let config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Access-Control-Allow-Headers': 'x-access-token',\r\n          'x-access-token': data.token\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      // create payload\r\n      let payload = {\r\n        name: data.name\r\n      };\r\n\r\n      // request to server\r\n      axios\r\n        .post(\r\n          window.location.protocol +\r\n            '//' +\r\n            window.location.host.split(':')[0] +\r\n            ':3000/api/club/remove',\r\n          payload,\r\n          config\r\n        )\r\n        .then(response => {\r\n          if (response.data.code == 200) {\r\n            resolve(response);\r\n          } else {\r\n            reject(response);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n\r\n  // -- Add Club-- //\r\n  clubAdd({ commit }, data) {\r\n    return new Promise((resolve, reject) => {\r\n      // check token exist\r\n      if (!data.token || !data.data) return reject();\r\n\r\n      // loading on\r\n      commit('halfLoadingChange', true);\r\n\r\n      // create request config\r\n      let config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Access-Control-Allow-Headers': 'x-access-token',\r\n          'x-access-token': data.token\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      // create owner object\r\n      var ownerTemp = [];\r\n      for (var items in data.data.prefix) {\r\n        ownerTemp.push({\r\n          prefix: data.data.prefix[items],\r\n          firstname: data.data.firstname[items],\r\n          lastname: data.data.lastname[items]\r\n        });\r\n      }\r\n\r\n      // image to base 64\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(data.data.img);\r\n      reader.onloadend = function() {\r\n        var base64 = reader.result;\r\n        // create payload\r\n        let payload = {\r\n          entry: {\r\n            max: data.data.max\r\n          },\r\n          owner: ownerTemp,\r\n          receive: data.data.receive,\r\n          name: data.data.name,\r\n          img: base64,\r\n          desc: data.data.desc\r\n        };\r\n\r\n        // request to server\r\n        axios\r\n          .post(\r\n            window.location.protocol +\r\n              '//' +\r\n              window.location.host.split(':')[0] +\r\n              ':3000/api/club/add',\r\n            payload,\r\n            config\r\n          )\r\n          .then(response => {\r\n            resolve(response);\r\n            return commit('halfLoadingChange', false);\r\n          })\r\n          .catch(err => {\r\n            reject(err.response);\r\n            return commit('halfLoadingChange', false);\r\n          });\r\n      };\r\n    });\r\n  }\r\n};\r\n\r\n// export\r\nexport default {\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/club.js","import axios from 'axios';\r\nimport swal from 'sweetalert2';\r\n// import router from '../../router';\r\n// import jwtDecode from 'jwt-decode';\r\n\r\n// enable axios set cookie\r\naxios.defaults.withCredentials = true;\r\n\r\n// create request config\r\nvar config = {\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  },\r\n  timeout: 0\r\n};\r\n\r\n\r\n// initial state\r\nconst state = {\r\n  userSize: 0,\r\n  userList: null,\r\n  clubList: null\r\n};\r\n\r\n// getters\r\nconst getters = {\r\n  getUserList: state => state.userList,\r\n  getUserSize: state => state.userSize,\r\n  getClubList: state => state.clubList,\r\n};\r\n\r\n// mutations\r\nconst mutations = {\r\n  updateUserList(state, data) {\r\n    if (data) {\r\n      state.userSize = data.count;\r\n      state.userList = data.users;\r\n    } else {\r\n      state.userSize = 0;\r\n      state.userList = null;\r\n    }\r\n  },\r\n  updateClubList(state, data) {\r\n    if (data) {\r\n      state.clubList = data;\r\n    } else {\r\n      state.clubList = null;\r\n    }\r\n  },\r\n  updateClubUser(state, data) {\r\n    Object.keys(state.clubList).forEach(key => {\r\n      state.clubList[key].student = data.filter(filter => {\r\n        return state.clubList[key].name == filter.club\r\n      })\r\n    })\r\n  }\r\n};\r\n\r\n// actions\r\nconst actions = {\r\n\r\n  webEnabledState({}, data) {\r\n    return new Promise((resolve, reject) => {\r\n\r\n      // create header\r\n      var config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      // create request\r\n      axios.get(\r\n        window.location.protocol + '//' + window.location.host.split(':')[0] + ':3000/api/status/enabled',\r\n        data, config\r\n      ).then(response => {\r\n        return resolve(response.data.data.enabled);\r\n      }).catch(err => {\r\n        return reject(err.response);\r\n      })\r\n\r\n    })\r\n  },\r\n\r\n  // Web Enabled Option\r\n  webEnabled({\r\n    commit\r\n  }, data) {\r\n    return new Promise((resolve, reject) => {\r\n\r\n      // create header\r\n      var config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-access-token': data.token\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      axios.post(\r\n        window.location.protocol + '//' + window.location.host.split(':')[0] + ':3000/api/teacher/option/enabled',\r\n        data, config\r\n      ).then(response => {})\r\n\r\n    })\r\n  },\r\n\r\n\r\n  // Find User By Club\r\n  findUserByClub({\r\n    commit\r\n  }, data) {\r\n    return new Promise((resolve, reject) => {\r\n\r\n      // create header\r\n      var config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-access-token': data.token\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      var payload = {\r\n        data: [],\r\n        token: data.token\r\n      }\r\n\r\n      data.data.forEach((item, count) => {\r\n        payload.data[count] = item.name;\r\n      })\r\n\r\n\r\n      //create request\r\n      axios\r\n        .post(\r\n          window.location.protocol + '//' + window.location.host.split(':')[0] + ':3000/api/teacher/user/club',\r\n          payload, config\r\n        )\r\n        .then(response => {\r\n          // update all userlist in local\r\n          commit('updateClubUser', response.data.data);\r\n\r\n          // disable loading\r\n          commit('fullLoadingChange', false);\r\n          return resolve(response);\r\n        })\r\n        .catch(err => {\r\n          commit('fullLoadingChange', false);\r\n          return reject(err);\r\n        });\r\n\r\n    })\r\n  },\r\n\r\n  // Request All User\r\n  reqAllUser({\r\n    commit\r\n  }, token) {\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // loading\r\n      commit('fullLoadingChange', true);\r\n\r\n      // create header\r\n      var config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-access-token': token\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      //create request\r\n      axios\r\n        .post(\r\n          window.location.protocol + '//' + window.location.host.split(':')[0] + ':3000/api/teacher/user/all', {\r\n            token: token\r\n          }, config\r\n        )\r\n        .then(response => {\r\n          // update all userlist in local\r\n          commit('updateUserList', response.data);\r\n\r\n          // disable loading\r\n          commit('fullLoadingChange', false);\r\n          return resolve(response);\r\n        })\r\n        .catch(err => {\r\n          commit('fullLoadingChange', false);\r\n          return reject(err);\r\n        });\r\n    });\r\n  },\r\n\r\n  // Request All Club\r\n  reqAllClub({\r\n    commit,\r\n    dispatch\r\n  }, token) {\r\n    return new Promise((resolve, reject) => {\r\n      // loading\r\n      commit('fullLoadingChange', true);\r\n\r\n      // create header\r\n      var config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-access-token': token\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      //create request\r\n      axios\r\n        .post(\r\n          window.location.protocol + '//' + window.location.host.split(':')[0] + ':3000/api/teacher/club/all', {\r\n            token: token\r\n          }, config\r\n        )\r\n        .then(response => {\r\n          // update all clublist in local\r\n          commit('updateClubList', response.data.clubs);\r\n          dispatch('findUserByClub', {\r\n            token: token,\r\n            data: response.data.clubs\r\n          }).then(response => {\r\n            return resolve(response);\r\n            commit('fullLoadingChange', false);\r\n          }).catch(err => {\r\n            commit('fullLoadingChange', false);\r\n            return reject(err);\r\n          })\r\n        })\r\n        .catch(err => {\r\n          commit('fullLoadingChange', false);\r\n          return reject(err);\r\n        });\r\n    });\r\n  },\r\n\r\n\r\n  // Remove User by StudentID\r\n  userRemove({\r\n    commit\r\n  }, data) {\r\n    return new Promise((resolve, reject) => {\r\n      // loading\r\n      commit('fullLoadingChange', true);\r\n      // create header\r\n      var config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-access-token': data.token\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      //create request\r\n      axios\r\n        .post(\r\n          window.location.protocol + '//' + window.location.host.split(':')[0] + ':3000/api/teacher/user/remove', {\r\n            data\r\n          }, config\r\n        )\r\n        .then(response => {\r\n          // disable loading\r\n          commit('fullLoadingChange', false);\r\n          return resolve(response);\r\n        })\r\n        .catch(err => {\r\n          commit('fullLoadingChange', false);\r\n          return reject(err);\r\n        });\r\n    })\r\n  },\r\n\r\n  // Add User\r\n  userAdd({\r\n    commit\r\n  }, data) {\r\n    return new Promise((resolve, reject) => {\r\n      // loading\r\n      commit('fullLoadingChange', true);\r\n\r\n      // create header\r\n      var config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'x-access-token': data.token\r\n        },\r\n        timeout: 0\r\n      };\r\n\r\n      //create request\r\n      axios\r\n        .post(\r\n          window.location.protocol + '//' + window.location.host.split(':')[0] + ':3000/api/teacher/user/add', {\r\n            data\r\n          }, config\r\n        )\r\n        .then(response => {\r\n          // disable loading\r\n          commit('fullLoadingChange', false);\r\n          return resolve(response);\r\n        })\r\n        .catch(err => {\r\n          commit('fullLoadingChange', false);\r\n          return reject(err);\r\n        });\r\n\r\n    })\r\n  }\r\n}\r\n\r\n// export\r\nexport default {\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/teacher.js","// Import Modules\r\nimport Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport loading from './modules/loading';\r\nimport auth from './modules/auth';\r\nimport club from './modules/club';\r\nimport teacher from './modules/teacher';\r\n\r\n// Use Moduesl\r\nVue.use(Vuex);\r\n\r\n// Debug\r\nconst debug = process.env.NODE_ENV !== 'production';\r\n\r\n//Export\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    teacher,\r\n    auth,\r\n    club,\r\n    loading,\r\n  },\r\n  strict: false\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\r\n  <div id=\"app\">\r\n    <transition name=\"app-fade\" mode=\"out-in\">\r\n      <div v-if=\"loading.loading.full\">\r\n        <div class=\"loading-wrapper\">\r\n          <div class=\"loading-fade\"></div>\r\n          <div class=\"loading-block\">\r\n            <div class=\"text-center\">\r\n              <i class=\"fas fa-spinner fa-spin\"></i><br>\r\n              <span>L</span>\r\n              <span>O</span>\r\n              <span>A</span>\r\n              <span>D</span>\r\n              <span>I</span>\r\n              <span>N</span>\r\n              <span>G</span>\r\n              <span>.</span>\r\n              <span>.</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <transition name=\"app-fade\" mode=\"out-in\" v-else>\r\n        <router-view/>\r\n      </transition>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState } from 'vuex';\r\nexport default {\r\n  name: 'App',\r\n  mounted() {},\r\n  computed: {\r\n    ...mapState(['loading'])\r\n  },\r\n  methods: {}\r\n};\r\n</script>\r\n\r\n<style>\r\n.app-fade-enter-active,\r\n.app-fade-leave-active {\r\n  transition: opacity 0.3s ease-in-out;\r\n}\r\n.app-fade-enter,\r\n.app-fade-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transition',{attrs:{\"name\":\"app-fade\",\"mode\":\"out-in\"}},[(_vm.loading.loading.full)?_c('div',[_c('div',{staticClass:\"loading-wrapper\"},[_c('div',{staticClass:\"loading-fade\"}),_vm._v(\" \"),_c('div',{staticClass:\"loading-block\"},[_c('div',{staticClass:\"text-center\"},[_c('i',{staticClass:\"fas fa-spinner fa-spin\"}),_c('br'),_vm._v(\" \"),_c('span',[_vm._v(\"L\")]),_vm._v(\" \"),_c('span',[_vm._v(\"O\")]),_vm._v(\" \"),_c('span',[_vm._v(\"A\")]),_vm._v(\" \"),_c('span',[_vm._v(\"D\")]),_vm._v(\" \"),_c('span',[_vm._v(\"I\")]),_vm._v(\" \"),_c('span',[_vm._v(\"N\")]),_vm._v(\" \"),_c('span',[_vm._v(\"G\")]),_vm._v(\" \"),_c('span',[_vm._v(\".\")]),_vm._v(\" \"),_c('span',[_vm._v(\".\")])])])])]):_c('transition',{attrs:{\"name\":\"app-fade\",\"mode\":\"out-in\"}},[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0ef57bb0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ef57bb0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ef57bb0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue';\r\nimport App from './App';\r\nimport BootstrapVue from 'bootstrap-vue';\r\nimport VeeValidate from 'vee-validate';\r\nimport router from './router';\r\nimport store from './store';\r\n\r\n// Vue.use(VeeValidate);\r\nVue.use(VeeValidate, {\r\n  fieldsBagName: 'veeFields'\r\n});\r\nVue.use(BootstrapVue);\r\n\r\n\r\n// Import Assets\r\nimport '@scss/app.scss';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap-vue/dist/bootstrap-vue.css';\r\n\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  components: {\r\n    App\r\n  },\r\n  template: '<App/>'\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport store from '../store';\r\nimport axios from 'axios';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\n// Layout route\r\nconst layout = () =>\r\n  import ('@component/layout');\r\nconst login = () =>\r\n  import ('@component/auth/login');\r\nconst logout = () =>\r\n  import ('@component/auth/logout');\r\nconst notfound = () =>\r\n  import ('@component/notfound');\r\n\r\n// Teacher route\r\nconst Teacher = () =>\r\n  import ('@component/teacher/Teacher');\r\nconst Teacher_User = () =>\r\n  import ('@component/teacher/User');\r\nconst Teacher_Club = () =>\r\n  import ('@component/teacher/Club');\r\nconst Teacher_Option = () =>\r\n  import ('@component/teacher/Option');\r\n\r\n// Student route\r\nconst student = () =>\r\n  import ('@component/student/student');\r\nconst student_club = () =>\r\n  import ('@component/student/student_club');\r\nconst swal = () =>\r\n  import ('sweetalert2');\r\n\r\nVue.use(Router);\r\n\r\nconst router = new Router({\r\n  mode: 'history',\r\n  routes: [{\r\n    path: '/',\r\n    component: layout,\r\n    children: [\r\n      // Notfound\r\n      {\r\n        path: '/404',\r\n        component: notfound,\r\n        name: 'Notfound'\r\n      },\r\n      // AUTH\r\n      {\r\n        path: '/login',\r\n        component: login,\r\n        name: 'Login',\r\n        alias: '/',\r\n        meta: {\r\n          noAuth: true\r\n        }\r\n      },\r\n      {\r\n        path: '/logout',\r\n        component: logout,\r\n        name: 'Logout',\r\n        meta: {\r\n          auth: true\r\n        }\r\n      },\r\n      // STUDENT\r\n      {\r\n        path: '/student',\r\n        component: student,\r\n        meta: {\r\n          auth: true\r\n        },\r\n        children: [{\r\n          path: 'club',\r\n          component: student_club,\r\n          name: 'Student_Club',\r\n          alias: '/'\r\n        }]\r\n      },\r\n      // TEACHER\r\n      {\r\n        path: '/teacher',\r\n        component: Teacher,\r\n        meta: {\r\n          auth: true,\r\n          teacher: true\r\n        },\r\n        children: [{\r\n            path: 'user',\r\n            component: Teacher_User,\r\n            name: 'Teacher_User',\r\n            alias: '/'\r\n          },\r\n          {\r\n            path: 'club',\r\n            component: Teacher_Club,\r\n            name: 'Teacher_Club'\r\n          },\r\n          {\r\n            path: 'option',\r\n            component: Teacher_Option,\r\n            name: 'Teacher_Option'\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }]\r\n});\r\n\r\n// ------------------ //\r\n// -- ROUTER GUARD -- //\r\n// ------------------ //\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  // check path exist\r\n  to.matched.length ? next() : next({\r\n    name: 'Notfound'\r\n  });\r\n\r\n  // request session token every router update\r\n  store.dispatch('session').then(response => {\r\n    if (response.data.token) {\r\n      // check token expired\r\n      store\r\n        .dispatch('checkTokenExpired', response.data.token)\r\n        .then(check => {})\r\n        .catch(err => {\r\n          swal({\r\n            type: 'warning',\r\n            title: 'Authentication',\r\n            text: 'โทเคนหมดอายุ กรุณาเข้าสู่ระบบใหม่',\r\n            timer: 3000\r\n          }).then(() => {\r\n            store.dispatch('logout');\r\n            router.push({\r\n              name: 'Login'\r\n            });\r\n            return;\r\n          });\r\n        });\r\n    }\r\n\r\n    // user state\r\n    var userState = store.getters.getUser;\r\n\r\n    store.dispatch('userSelf', userState.token).catch(err => {});\r\n\r\n    // reuqest not login\r\n    if (to.matched.some(record => record.meta.noAuth)) {\r\n      if (userState.token) {\r\n        next({\r\n          name: 'Student_Club'\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    // request login\r\n    if (to.matched.some(record => record.meta.auth)) {\r\n      if (!userState.token) {\r\n        next({\r\n          name: 'Login'\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    // request teacher (permission >= 2)\r\n    if (to.matched.some(record => record.meta.teacher)) {\r\n      if (jwtDecode(userState.token).permission < 2) {\r\n        next({\r\n          name: 'Student_Club'\r\n        });\r\n        return;\r\n      }\r\n    }\r\n\r\n    // request user list when entry Teacher_User\r\n    if (to.path.indexOf('teacher') >= 1 && to.path.indexOf('user') >= 1) {\r\n\r\n      // check userlist is exist ignore\r\n      if (store.getters.getUserList) return false;\r\n\r\n      // call actions\r\n      store.dispatch('reqAllUser', userState.token);\r\n    }\r\n\r\n    // request user list when entry Teacher_Club\r\n    if (to.path.indexOf('teacher') >= 1 && to.path.indexOf('club') >= 1) {\r\n\r\n      // check clublist is exist ignore\r\n      if (store.getters.getClubList) return false;\r\n\r\n      // call actions\r\n      store.dispatch('reqAllClub', userState.token);\r\n    }\r\n  });\r\n});\r\n\r\nexport default router;\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js"],"sourceRoot":""}